{"id":"node_modules/@giphy/js-fetch-api/dist/normalize/gif.js","dependencies":[{"name":"D:\\testhub\\node_modules\\@giphy\\js-fetch-api\\dist\\normalize\\gif.js.map","includedInParent":true,"mtime":499162500000},{"name":"D:\\testhub\\node_modules\\@giphy\\js-fetch-api\\src\\normalize\\gif.ts","includedInParent":true,"mtime":499162500000},{"name":"D:\\testhub\\package.json","includedInParent":true,"mtime":1633782651602},{"name":"D:\\testhub\\node_modules\\@giphy\\js-fetch-api\\package.json","includedInParent":true,"mtime":1633781127523}],"generated":{"js":"\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeGifs = exports.normalizeGif = exports.USER_BOOL_PROPS = exports.BOOL_PROPS = void 0;\n/**\n * @hidden\n */\nexports.BOOL_PROPS = [\n    'is_anonymous',\n    'is_community',\n    'is_featured',\n    'is_hidden',\n    'is_indexable',\n    'is_preserve_size',\n    'is_realtime',\n    'is_removed',\n    'is_sticker',\n    'is_dynamic', // not finalized, and not adding to Gif type until type RFC is finished\n];\n/**\n * @hidden\n */\nexports.USER_BOOL_PROPS = ['suppress_chrome', 'is_public', 'is_verified'];\nvar makeBool = function (obj) { return function (prop) { return (obj[prop] = !!obj[prop]); }; };\n// tags sometimes are objects that have a text prop, sometimes they're strings\nvar getTag = function (tag) { return (typeof tag === 'string' ? tag : tag.text); };\nvar normalize = function (gif) {\n    var newGif = __assign({}, gif);\n    newGif.id = String(newGif.id);\n    newGif.tags = (newGif.tags || []).map(getTag);\n    exports.BOOL_PROPS.forEach(makeBool(newGif));\n    Object.keys(newGif.images || {}).forEach(function (name) {\n        var img = newGif.images[name];\n        img.width = parseInt(img.width);\n        img.height = parseInt(img.height);\n    });\n    var user = newGif.user;\n    if (user) {\n        var newUser = __assign({}, user);\n        exports.USER_BOOL_PROPS.forEach(makeBool(newUser));\n        newGif.user = newUser;\n    }\n    return newGif;\n};\n/**\n * @hidden\n */\nvar normalizeGif = function (result) {\n    result.data = normalize(result.data);\n    return result;\n};\nexports.normalizeGif = normalizeGif;\n/**\n * @hidden\n */\nvar normalizeGifs = function (result) {\n    result.data = result.data.map(function (gif) { return normalize(gif); });\n    return result;\n};\nexports.normalizeGifs = normalizeGifs;\n"},"sourceMaps":{"js":{"version":3,"file":"gif.js","sourceRoot":"","sources":["../../src/normalize/gif.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA;;GAEG;AACU,QAAA,UAAU,GAAG;IACtB,cAAc;IACd,cAAc;IACd,aAAa;IACb,WAAW;IACX,cAAc;IACd,kBAAkB;IAClB,aAAa;IACb,YAAY;IACZ,YAAY;IACZ,YAAY,EAAE,uEAAuE;CACxF,CAAA;AAED;;GAEG;AACU,QAAA,eAAe,GAAG,CAAC,iBAAiB,EAAE,WAAW,EAAE,aAAa,CAAC,CAAA;AAE9E,IAAM,QAAQ,GAAG,UAAC,GAAQ,IAAK,OAAA,UAAC,IAAY,IAAK,OAAA,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAzB,CAAyB,EAA3C,CAA2C,CAAA;AAI1E,8EAA8E;AAC9E,IAAM,MAAM,GAAG,UAAC,GAAiB,IAAK,OAAA,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAE,GAAc,CAAC,CAAC,CAAE,GAAW,CAAC,IAAI,CAAC,EAA/D,CAA+D,CAAA;AAErG,IAAM,SAAS,GAAG,UAAC,GAAQ;IACvB,IAAM,MAAM,gBAAc,GAAG,CAAE,CAAA;IAC/B,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IAC7B,MAAM,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IAC7C,kBAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAA;IACpC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,UAAC,IAAY;QAClD,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC/B,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QAC/B,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IACrC,CAAC,CAAC,CAAA;IAEM,IAAA,IAAI,GAAK,MAAM,KAAX,CAAW;IACvB,IAAI,IAAI,EAAE;QACN,IAAM,OAAO,gBAAQ,IAAI,CAAE,CAAA;QAC3B,uBAAe,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAA;QAC1C,MAAM,CAAC,IAAI,GAAG,OAAO,CAAA;KACxB;IACD,OAAO,MAAM,CAAA;AACjB,CAAC,CAAA;AAED;;GAEG;AACI,IAAM,YAAY,GAAG,UAAC,MAAiB;IAC1C,MAAM,CAAC,IAAI,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IACpC,OAAO,MAAM,CAAA;AACjB,CAAC,CAAA;AAHY,QAAA,YAAY,gBAGxB;AAED;;GAEG;AACI,IAAM,aAAa,GAAG,UAAC,MAAkB;IAC5C,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,IAAK,OAAA,SAAS,CAAC,GAAG,CAAC,EAAd,CAAc,CAAC,CAAA;IACtD,OAAO,MAAM,CAAA;AACjB,CAAC,CAAA;AAHY,QAAA,aAAa,iBAGzB","sourcesContent":["import { IGif } from '@giphy/js-types'\nimport { GifResult, GifsResult } from '../result-types'\n\n/**\n * @hidden\n */\nexport const BOOL_PROPS = [\n    'is_anonymous',\n    'is_community',\n    'is_featured',\n    'is_hidden',\n    'is_indexable',\n    'is_preserve_size',\n    'is_realtime',\n    'is_removed',\n    'is_sticker',\n    'is_dynamic', // not finalized, and not adding to Gif type until type RFC is finished\n]\n\n/**\n * @hidden\n */\nexport const USER_BOOL_PROPS = ['suppress_chrome', 'is_public', 'is_verified']\n\nconst makeBool = (obj: any) => (prop: string) => (obj[prop] = !!obj[prop])\n\ntype Tag = { text: string }\n\n// tags sometimes are objects that have a text prop, sometimes they're strings\nconst getTag = (tag: Tag | string) => (typeof tag === 'string' ? (tag as string) : (tag as Tag).text)\n\nconst normalize = (gif: any) => {\n    const newGif: IGif = { ...gif }\n    newGif.id = String(newGif.id)\n    newGif.tags = (newGif.tags || []).map(getTag)\n    BOOL_PROPS.forEach(makeBool(newGif))\n    Object.keys(newGif.images || {}).forEach((name: string) => {\n        const img = newGif.images[name]\n        img.width = parseInt(img.width)\n        img.height = parseInt(img.height)\n    })\n\n    const { user } = newGif\n    if (user) {\n        const newUser = { ...user }\n        USER_BOOL_PROPS.forEach(makeBool(newUser))\n        newGif.user = newUser\n    }\n    return newGif\n}\n\n/**\n * @hidden\n */\nexport const normalizeGif = (result: GifResult) => {\n    result.data = normalize(result.data)\n    return result\n}\n\n/**\n * @hidden\n */\nexport const normalizeGifs = (result: GifsResult) => {\n    result.data = result.data.map((gif) => normalize(gif))\n    return result\n}\n"]}},"error":null,"hash":"0f6334e0d648cc88efcc93f39efbbc74","cacheData":{"env":{}}}